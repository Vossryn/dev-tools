**Stack Overview**
- TanStack Start (React 19) SSR app; router comes from `getRouter` in `src/router.tsx`, which wires the generated `src/routeTree.gen.ts` (never edit—regenerated by the router plugin).
- Root HTML skeleton is `src/routes/__root.tsx`; its `shellComponent` sets `<ThemeProvider>`, injects `ThemeScript`, and mounts TanStack devtools.
- Route modules under `src/routes/**` export a `Route` constant via `createFileRoute` and stay thin by delegating UI to `src/features/**` components.

**Dev Workflow**
- Install dependencies with `npm install`.
- Local development: `npm run dev` (Vite + Nitro on port 3000); keep it running so `routeTree.gen.ts` regenerates when routes change.
- Production preview: `npm run build` then `npm run serve`.
- Tests: `npm run test` runs Vitest in non-watch mode.

**Routing & Features**
- `src/routes/index.tsx` renders the home experience from `@/features/home`, which pulls featured tools from `src/lib/tools.json`.
- `src/routes/tools/index.tsx` renders the filterable tool directory in `@/features/tools/image`, reading the same JSON manifest.
- Individual tool routes (e.g., `src/routes/tools/json-parser.tsx`) simply render their feature component; align `href`/`slug` entries in the manifest with the route path.

**Tools Manifest & Discoverability**
- `src/lib/tools.json` is the single source of truth for tool metadata (slug, tags, featured state). Update it whenever you add or rename tools so home cards and listings stay accurate.
- Navigation uses TanStack `Link` active props in `src/components/Header.tsx`; consistent slugs ensure highlighting works without extra config.

**UI & Styling**
- Tailwind CSS v4 lives in `src/styles.css` with OKLCH design tokens; tweak the provided CSS variables (`--background`, `--primary`, etc.) instead of hard-coding colors.
- Shared primitives live under `src/components/ui/*` (shadcn-style). Import via aliases like `@/components/ui/button` and merge classes with `cn` from `src/lib/utils.ts`.
- Theme state is managed by `src/components/theme-provider.tsx` using the `dev-tools-theme` storage key; keep `ThemeScript` in `__root` to avoid hydration flashes and use `useTheme()` for toggles.

**Client-Side Tool Patterns**
- Tools run entirely in the browser: `ImageConverter` streams via `FileReader` + canvas, `ColorConverter` pipes through `culori`, and `JsonParserTool` validates on every change. Follow these patterns—gate expensive work with `useMemo`/`useCallback` and clean up object URLs in `useEffect`.
- When introducing new file workflows, mirror `ImageConverter`’s lifecycle (revoke object URLs, debounce conversions, honor aspect locks) so the UI stays responsive.

**Utilities & Conventions**
- Path aliases (`@/*`) are defined in `tsconfig.json` and enabled by `vite-tsconfig-paths`; avoid deep relative imports.
- `useIsMobile` in `src/hooks/use-mobile.ts` centralizes the 768px breakpoint—reuse it for responsive logic in JS.
- Leave generated assets like `src/routeTree.gen.ts` and static files under `public/` untouched unless the generator instructs otherwise.

**Server Utilities (Optional)**
- `src/data/demo.punk-songs.ts` shows how to declare a `createServerFn`; import that pattern if you need server helpers and remember to invalidate the router on the client after mutations.
